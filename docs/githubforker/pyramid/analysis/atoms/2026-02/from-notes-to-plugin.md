# 从散乱笔记到 OpenClaw 插件：知识棱镜的诞生历程

> 来源：[../../../../journal/2026-02-25/from-notes-to-plugin.md](../../../../journal/2026-02-25/from-notes-to-plugin.md)
> 缩写：FN

## Atoms

| 编号  | 类型 | 内容                                                                                                               | 原文定位                                     |
| ----- | ---- | ------------------------------------------------------------------------------------------------------------------ | -------------------------------------------- |
| FN-01 | 判断 | 按时间线组织的笔记适合记录过程，但不适合教学或知识复用，会导致查询困难和步骤拼凑繁琐                               | 起点：20 篇笔记和一个越来越明显的问题        |
| FN-02 | 事实 | 知识棱镜架构包含三层：journal（原始素材层）、pyramid（结构化拆解层）、outputs（读者产出层）                        | 第一步：设计架构（2 月 22 日）               |
| FN-03 | 经验 | 架构设计决策标准：若产物随素材规模增长则用目录拆分，若固定则用单文件保持内聚                                       | 第一步：设计架构（2 月 22 日）               |
| FN-04 | 事实 | 知识棱镜隐喻：散乱笔记如白光，经结构化拆解（棱镜）后产出面向读者的清晰文章（光谱）                                 | 第二步：方法论命名与实践（2 月 23 日）       |
| FN-05 | 步骤 | 知识棱镜处理流程：提取 atoms → 跨文档归组为 groups → 收敛顶层候选观点 → 建立视角并验证 → 产出成品                  | 第二步：方法论命名与实践（2 月 23 日）       |
| FN-06 | 判断 | 手动执行知识棱镜流程在新增 journal 时过于繁琐，涉及大量重复性文本处理，需自动化                                    | 第二步：方法论命名与实践（2 月 23 日）       |
| FN-07 | 事实 | js-knowledge-prism 工具设计目标：零外部依赖、提供编程 API 与 CLI 双入口、LLM 驱动三阶段处理管线                    | 第三步：从方法论到工具（js-knowledge-prism） |
| FN-08 | 事实 | js-knowledge-prism 核心模块包括 process（处理管线）、status（状态统计）、config（配置）、init（初始化）等          | 第三步：从方法论到工具（js-knowledge-prism） |
| FN-09 | 步骤 | 使用 js-knowledge-prism CLI 命令：init 初始化骨架、process 执行增量处理、status 查看状态、new-perspective 创建视角 | 第三步：从方法论到工具（js-knowledge-prism） |
| FN-10 | 判断 | 将工具转为 OpenClaw 插件可让 AI Agent 直接调用，消除切换终端的上下文成本，缩短反馈循环                             | 第三步：从方法论到工具（js-knowledge-prism） |
| FN-11 | 事实 | OpenClaw 插件系统由 loader、discovery、registry、config-state 四个模块协作完成加载与注册                           | 第四步：研究插件机制（2 月 25 日）           |
| FN-12 | 事实 | OpenClaw 插件发现来源按优先级排序：config 指定路径 > workspace 目录 > global 目录 > bundled 目录                   | 第四步：研究插件机制（2 月 25 日）           |
| FN-13 | 事实 | OpenClaw 插件最低结构要求：必需 openclaw.plugin.json（含 id 和 configSchema）和 index.ts（导出 register）          | 第四步：研究插件机制（2 月 25 日）           |
| FN-14 | 事实 | OpenClaw 插件可注册十种能力，包括工具、通道、Provider、Hook、命令、HTTP 路由等                                     | 第四步：研究插件机制（2 月 25 日）           |
| FN-15 | 步骤 | 安装本地 OpenClaw 插件应使用 `--link` 模式链接路径，避免复制导致相对路径断裂                                       | 第五步：适配与安装                           |
| FN-16 | 事实 | 知识棱镜插件注册了 `knowledge_prism_process` 和 `knowledge_prism_status`两个 AI 工具供 Agent 调用                  | 第五步：适配与安装                           |
| FN-17 | 事实 | 知识棱镜插件支持动态指定 baseDir，因此同一个插件实例可管理多个符合三层结构的知识库目录                             | 第五步：适配与安装                           |
| FN-18 | 经验 | 需求演化链验证了“增量演化优于一步到位”的方法论，每一步均由前一步实践暴露的痛点自然推动                             | 回望：一条需求驱动的演化链                   |
| FN-19 | 判断 | 工具和方法论应分离：架构是方法论可用任何工具执行，工具可服务于任何符合结构的知识库                                 | 回望：一条需求驱动的演化链                   |
| FN-20 | 经验 | 研究插件机制的过程本身即符合知识棱镜 journal 层的运作方式，按时间忠实记录后再由 pyramid 层拆解                     | 回望：一条需求驱动的演化链                   |
