# 金字塔全树

> 所属视角：（填写视角名称）

从 [scqa.md](../scqa.md) 的塔尖结论出发，逐层向下展开。

## 塔尖

> AI 模型与 Agent 配置必须严格遵循“提供商认证机制”与“多 Agent 路由逻辑”的解耦原则，并通过强制区分主/子 Agent 构建模式、禁止跨实例复用配置目录，结合独立工作区与会话隔离，实现灵活调度下的绝对安全与人设独立。

## Key Line（顶层论点）

塔尖下面的第一层支撑论点。每个论点回答读者看到塔尖后的下一层追问。

| 序号 | 论点                                                                                                     | 逻辑顺序类型 | 引用 Groups   | 详细展开                           |
| ---- | -------------------------------------------------------------------------------------------------------- | ------------ | ------------- | ---------------------------------- |
| KL01 | 架构基石需确立“本地优先网关”核心枢纽，通过五层抽象连接多渠道与多工具以实现安全路由                       | 结构         | G15, G20, G28 | kl01-local-first-gateway.md        |
| KL02 | 安全体系须遵循“纵深防御 + 默认安全”原则，在应用层独立防护攻击面并在基础设施层实施不可变摘要与最小权限    | 结构         | G07, G11, G16 | kl02-depth-defense-security.md     |
| KL03 | Agent 配置必须严格解耦“提供商认证”与“路由逻辑”，通过强制区分主/子模式及禁止跨实例复用目录确保人设独立    | 结构         | G14, G28, G29 | kl03-agent-config-decoupling.md    |
| KL04 | 执行安全需构建“分段解析 + 白名单校验 + 动态审批”三重防线，强制阻断高风险管道执行并防止配置回退失效       | 程度         | G39, EX       | kl04-execution-safety-lines.md     |
| KL05 | 系统健康依赖自动化诊断工具（Doctor）作为核心防线，具备自动修复、深度审计及状态迁移能力以保障长期可维护性 | 时间         | G16, OD       | kl05-automated-health-diagnosis.md |

每个 Key Line 在本目录下有独立文件，承载该支的逐层展开。

## Key Line 文件模板

```markdown
# KL01: [论点观点句]

> 所属视角：...
> 上层论点：塔尖

## 支撑论点

### 1.1: [观点句]

- 逻辑顺序：时间/结构/程度
- 引用 atoms: ...
- 引用 groups: ...

### 1.2: [观点句]

（以此类推，可继续向下展开子层级）
```

## 结构检查

- [ ] 每个子层是否回答了上层引发的"为什么"或"怎么做"（纵向逻辑）
- [ ] 同层论点之间的逻辑顺序是否统一且合理
- [ ] 每个叶子节点是否都有 atom 引用支撑

---

## 修订记录

| 日期 | 变更摘要               |
| ---- | ---------------------- |
|      | （首次构建后开始记录） |
