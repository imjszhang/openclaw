# 序言设计（SCQA）

> 所属视角：P11-browser-relay

## 目标读者画像

| 维度     | 描述                                                                                       |
| -------- | ------------------------------------------------------------------------------------------ |
| 角色     | 系统架构师、安全工程师、AI Agent 开发者                                                    |
| 背景知识 | 熟悉浏览器自动化痛点（资源开销大、沙箱隔离导致登录态丢失）、了解本地中继代理模式           |
| 核心诉求 | 如何在保障安全可控的前提下，以最低资源成本实现 AI Agent 对用户浏览器标签页的精准共享与控制 |

## S - 情境（Situation）

在构建 AI Agent 自动化工作流时，浏览器是执行网页交互任务的核心载体。当前主流方案依赖独立启动的沙箱浏览器实例或无头浏览器，以确保任务隔离与环境纯净。

## C - 冲突（Complication）

然而，独立实例不仅消耗巨大的系统资源（内存/CPU），更因环境隔离导致无法复用用户日常浏览器中已建立的登录态（Cookies/Session），迫使 Agent 重复执行繁琐的登录验证流程，严重降低了自动化效率与用户体验。

## Q - 疑问（Question）

如何设计一种架构，既能复用用户现有浏览器环境以保留登录态，又能避免独立实例的资源开销，同时确保 Agent 对标签页的控制是安全、可控且非侵入式的？

## A - 答案（Answer）

Browser Relay 架构通过“本地中继服务器 + 扩展徽章状态机”实现安全可控的浏览器标签页共享控制，在避免独立浏览器实例资源开销的同时，填补了沙箱环境在“带登录态交互”场景的能力空白。

## 验证

- [x] S 是否是读者已有的共识？（是，独立沙箱浏览器是当前标准做法）
- [x] C 是否自然地从 S 中产生？（是，资源消耗与登录态隔离是独立实例的固有矛盾）
- [x] Q 是否是 C 的必然追问？（是，解决资源与状态矛盾是核心诉求）
- [x] A 是否直接回答 Q？（是，提出了具体的架构方案解决所有痛点）
- [x] A 是否与 synthesis 的顶层观点一致或有意调整？（是，完全对应 S14 观点）

---

## 修订记录

| 日期       | 变更摘要                             |
| ---------- | ------------------------------------ |
| 2026-02-26 | 首次设计，基于 S14/G20/G34 提炼 SCQA |

---
