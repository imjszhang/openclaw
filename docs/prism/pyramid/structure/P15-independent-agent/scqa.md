# 序言设计（SCQA）

> 所属视角：P15-independent-agent

## 目标读者画像

| 维度     | 描述                                                                                                                                       |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| 角色     | AI Agent 系统架构师、DevOps 工程师、安全合规负责人                                                                                         |
| 背景知识 | 熟悉 OpenClaw 核心架构（Channel-Agent-Workspace-Session），了解多 Agent 路由逻辑与提供商认证机制的区别，知晓基础的文件系统隔离概念。       |
| 核心诉求 | 如何在规模化部署中，确保不同人设（Persona）的 Agent 实例在配置、记忆与执行环境上绝对独立，防止状态污染与权限越界，同时支持自动化批量构建。 |

## S - 情境（Situation）

在 OpenClaw 的多 Agent 生态中，系统通过严格的“提供商认证”与“路由逻辑”分离，实现了灵活的调度能力。随着业务场景复杂化，从单一主 Agent 衍生出大量具备特定人设与记忆的子 Agent 已成为常态，且这些实例往往需要通过 CLI 交互式引导或 RPC 自动化构建两种模式进行创建。

## C - 冲突（Complication）

然而，若沿用传统的共享配置目录或缺乏隔离的创建流程，极易导致不同 Agent 间的人设记忆发生串扰（Cross-Contamination），甚至在自动化构建时因环境状态不一致引发执行错误。现有的粗放式管理无法在保障“人设独立性”的同时，兼顾“大规模自动化构建”的效率与安全，构成了系统规模化演进的核心瓶颈。

## Q - 疑问（Question）

如何构建一套严格的独立 Agent 创建与管理机制，既能彻底阻断跨实例的配置复用与记忆污染，又能适配交互式与自动化两种构建场景，确保生产环境的绝对稳定？

## A - 答案（Answer）

必须实施"CLI 交互式引导”与"RPC 自动化构建”的双模式严格区分，并强制禁止跨 Agent 复用配置目录，以此构建人设与记忆的物理及逻辑双重隔离防线。

## 验证

- [x] S 是否是读者已有的共识？（是，基于 G14, G28 对架构的分层认知）
- [x] C 是否自然地从 S 中产生？（是，多 Agent 衍生必然带来隔离挑战，对应 G29 痛点）
- [x] Q 是否是 C 的必然追问？（是，解决污染与效率矛盾的唯一路径）
- [x] A 是否直接回答 Q？（是，直接给出了双模式区分与禁止复用的核心策略，对应 S19）
- [x] A 是否与 synthesis 的顶层观点一致或有意调整？（是，完全一致于 S19 观点）

---

## 修订记录

| 日期       | 变更摘要               |
| ---------- | ---------------------- |
| 2026-02-26 | （首次设计后开始记录） |

---
